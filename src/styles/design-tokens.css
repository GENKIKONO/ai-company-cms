/**
 * デザイントークン - 統一されたデザインシステム
 * 全ページで一貫したビジュアルアイデンティティを保つための共通スタイル
 */

/* === カラーパレット === */
:root {
  /* プライマリカラー */
  --color-primary-50: rgb(239 246 255);
  --color-primary-100: rgb(219 234 254);
  --color-primary-200: rgb(191 219 254);
  --color-primary-300: rgb(147 197 253);
  --color-primary-400: rgb(96 165 250);
  --color-primary-500: rgb(59 130 246);
  --color-primary-600: rgb(37 99 235);
  --color-primary-700: rgb(29 78 216);
  --color-primary-800: rgb(30 64 175);
  --color-primary-900: rgb(30 58 138);

  /* セカンダリカラー */
  --color-secondary-50: rgb(250 245 255);
  --color-secondary-100: rgb(243 232 255);
  --color-secondary-200: rgb(233 213 255);
  --color-secondary-300: rgb(196 181 253);
  --color-secondary-400: rgb(167 139 250);
  --color-secondary-500: rgb(139 92 246);
  --color-secondary-600: rgb(124 58 237);
  --color-secondary-700: rgb(109 40 217);
  --color-secondary-800: rgb(91 33 182);
  --color-secondary-900: rgb(76 29 149);

  /* ニュートラルカラー */
  --color-gray-50: rgb(249 250 251);
  --color-gray-100: rgb(243 244 246);
  --color-gray-200: rgb(229 231 235);
  --color-gray-300: rgb(209 213 219);
  --color-gray-400: rgb(156 163 175);
  --color-gray-500: rgb(107 114 128);
  --color-gray-600: rgb(75 85 99);
  --color-gray-700: rgb(55 65 81);
  --color-gray-800: rgb(31 41 55);
  --color-gray-900: rgb(17 24 39);

  /* セマンティックカラー */
  --color-success-50: rgb(240 253 244);
  --color-success-100: rgb(220 252 231);
  --color-success-500: rgb(34 197 94);
  --color-success-600: rgb(22 163 74);

  --color-warning-50: rgb(255 251 235);
  --color-warning-100: rgb(254 243 199);
  --color-warning-500: rgb(245 158 11);
  --color-warning-600: rgb(217 119 6);

  --color-error-50: rgb(254 242 242);
  --color-error-100: rgb(254 226 226);
  --color-error-500: rgb(239 68 68);
  --color-error-600: rgb(220 38 38);

  /* === Layout Containers - Recomposed === */
  --container-content: 920px;  /* 本文・カード群 */
  --container-hero: 1040px;    /* ヒーロー */
  --container-wide: 1120px;    /* 2枚カード等幅時 */
  
  /* === Section Spacing - Recomposed === */
  --space-section-min: 40px;
  --space-section-max: 72px;
  --space-section-hero-min: 64px;
  --space-section-hero-max: 96px;
}

/* === Responsive Typography === */
.text-heading-1 {
  font-size: clamp(2rem, 3vw, 3.5rem);
  font-weight: bold;
  line-height: 1.2;
}

.text-heading-2 {
  font-size: clamp(1.5rem, 2.5vw, 2.25rem);
  font-weight: bold;
  line-height: 1.3;
}

.text-heading-3 {
  @apply text-2xl md:text-3xl font-semibold leading-tight;
}

.text-heading-4 {
  @apply text-xl md:text-2xl font-semibold leading-tight;
}

.text-body-large {
  @apply text-lg leading-relaxed;
}

.text-body {
  font-size: clamp(1rem, 1vw + 0.8rem, 1.25rem);
  line-height: 1.65;
}

.text-body-small {
  @apply text-sm leading-relaxed;
}

/* Optimized measure classes for readability */
.measure-body {
  max-width: 38ch;
  line-height: 1.65;
  text-wrap: pretty;
}

.measure-lead {
  max-width: 44ch;
  line-height: 1.65;
  text-wrap: pretty;
}

.measure-hero {
  max-width: clamp(30ch, 32ch, 34ch);
  line-height: 1.2;
  text-wrap: balance;
}

/* === レイアウト === */
.page-container {
  @apply min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800;
}

.content-wrapper {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* Responsive center column with fluid layout */
.center-col {
  width: var(--container-mobile);
  margin-inline: auto;
  padding-inline: clamp(16px, 5vw, 40px);
  text-align: left;
}

@media (min-width: 768px) {
  .center-col {
    max-width: var(--container-tablet);
  }
}

@media (min-width: 1024px) {
  .center-col {
    max-width: var(--container-pc);
  }
}

@media (min-width: 1600px) {
  .center-col {
    max-width: var(--container-large);
  }
}

/* Responsive grid system */
.responsive-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: clamp(1.5rem, 3vw, 5rem);
}

@media (min-width: 768px) {
  .responsive-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .responsive-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

.card {
  @apply bg-white rounded-xl border border-gray-200;
}

/* フォーム専用の明るいカード */
.card-light {
  @apply bg-white rounded-xl border border-gray-200 p-6;
}

.card-padding {
  @apply p-6;
}

.card-header {
  @apply border-b border-gray-200 dark:border-gray-700 pb-4 mb-6;
}

/* === ボタン === */
.btn-primary {
  @apply px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
}

.btn-secondary {
  @apply px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg border border-gray-300 transition-colors duration-200;
}

.btn-outline {
  @apply px-6 py-3 border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white font-medium rounded-lg transition-colors duration-200;
}

.btn-small {
  @apply px-4 py-2 text-sm;
}

.btn-large {
  @apply px-8 py-4 text-lg;
}

/* === フォーム === */
.form-input {
  @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-900;
}

.form-input-error {
  @apply border-red-500 focus:ring-red-500;
}

.form-label {
  @apply block text-sm font-medium text-gray-700 mb-2;
}

.form-error {
  @apply mt-1 text-sm text-red-600;
}

.form-section {
  @apply space-y-6;
}

/* === バッジ・タグ === */
.badge {
  @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
}

.badge-blue {
  @apply bg-blue-100 text-blue-800;
}

.badge-green {
  @apply bg-green-100 text-green-800;
}

.badge-purple {
  @apply bg-purple-100 text-purple-800;
}

.badge-gray {
  @apply bg-gray-100 text-gray-800;
}

/* === ホバー・フォーカス効果 === */
.hover-flat {
  @apply transition-all duration-200 hover:bg-gray-50 hover:border-gray-300;
}

.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
}

/* === アニメーション === */
.fade-in {
  @apply transition-all duration-1000 ease-out;
}

.fade-in-visible {
  @apply translate-y-0 opacity-100;
}

.fade-in-hidden {
  @apply translate-y-10 opacity-0;
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

/* === レスポンシブ調整 === */
@media (max-width: 640px) {
  .card-padding {
    @apply p-4;
  }
  
  .content-wrapper {
    @apply px-4;
  }
}

/* === ダークモード対応 === */
@media (prefers-color-scheme: dark) {
  .form-input {
    @apply bg-gray-800 border-gray-600 text-white;
  }
  
  .form-label {
    @apply text-gray-300;
  }
}

/* === Focus Management for Accessibility === */
.focus-clean {
  outline: none;
}

.focus-clean:focus-visible {
  outline: 2px solid rgb(59 130 246);
  outline-offset: 2px;
}

/* === CTA Button Utilities === */
.cta-nowrap {
  white-space: nowrap;
  word-break: keep-all;
  text-wrap: nowrap;
  min-height: 52px;
}

/* === STANDARDIZED LAYOUT SYSTEM === */

/* Container utilities - Recomposed */
.container-content {
  max-width: var(--container-content);
  margin-inline: auto;
  padding-inline: clamp(16px, 4vw, 32px);
}

.container-hero {
  max-width: var(--container-hero);
  margin-inline: auto;
  padding-inline: clamp(16px, 4vw, 32px);
}

.container-wide {
  max-width: var(--container-wide);
  margin-inline: auto;
  padding-inline: clamp(16px, 4vw, 32px);
}

/* Legacy support */
.container-article {
  max-width: var(--container-content);
  margin-inline: auto;
  padding-inline: clamp(16px, 4vw, 32px);
}

/* Section spacing utilities */
.section-gap {
  margin-block: clamp(var(--space-section-min), 6vw, var(--space-section-max));
}

.section-gap-hero {
  margin-block: clamp(var(--space-section-hero-min), 8vw, var(--space-section-hero-max));
}

/* Recomposed dividers and cards */
.divider {
  border-top: 1px solid #ECEFF3;
  width: 100%;
}

.neutral-band {
  background: #FAFBFC;
  height: 8px;
  width: 100%;
}

/* Recomposed card system */
.ui-card {
  border: 1px solid #E7E9EE;
  border-radius: 12px;
  background: #fff;
  /* Minimal shadow option if needed */
  /* box-shadow: 0 1px 2px rgba(16,24,40,.06); */
}

.ui-on-dark .ui-card {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(255, 255, 255, 0.12);
}

/* Heading guards for text-boundary distance - Recomposed */
.heading-guard-top {
  padding-top: clamp(32px, 4vw, 48px);
}

.heading-guard-btm {
  padding-bottom: clamp(32px, 4vw, 48px);
}

.hero-guard-top {
  padding-top: clamp(48px, 6vw, 64px);
}

.hero-guard-btm {
  padding-bottom: clamp(48px, 6vw, 64px);
}

/* Typography and layout utilities - Recomposed */
.text-balance {
  text-wrap: balance;
}

.text-pretty {
  text-wrap: pretty;
}

@supports (word-break: auto-phrase) {
  .text-auto-phrase {
    word-break: auto-phrase;
  }
}

.jp-phrase {
  text-wrap: pretty;
}

@supports (word-break: auto-phrase) {
  .jp-phrase {
    word-break: auto-phrase;
  }
}

/* Measure utilities for optimal line length */
.measure-heading {
  max-width: 24ch;
}

.measure-lead {
  max-width: 42ch;
}

.measure-body {
  max-width: 38ch;
}

/* Card layout utilities */
.card-grid-4 {
  display: grid;
  grid-template-columns: 1fr;
  gap: 24px;
}

@media (min-width: 640px) {
  .card-grid-4 {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .card-grid-4 {
    grid-template-columns: repeat(4, 1fr);
    gap: 32px;
  }
}

.card-min-height-sm {
  min-height: 180px;
}

.card-min-height-md {
  min-height: 200px;
}

.card-min-height-lg {
  min-height: 220px;
}