# Phase 3: SEO Integration & AIÃ—SEO ç›¸é–¢åˆ†æ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰UIè¨­è¨ˆ

## ğŸ“ æ–°è¦ãƒšãƒ¼ã‚¸: `/dashboard/analytics/ai-seo-report`

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Ã— SEO ç›¸é–¢åˆ†æãƒ¬ãƒãƒ¼ãƒˆ                              ğŸ“Š        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ 1. ç›¸é–¢ã‚¹ã‚³ã‚¢    â”‚ â”‚ 2. SEOã‚µãƒãƒªãƒ¼   â”‚ â”‚ 3. ãƒ‡ãƒ¼ã‚¿æ›´æ–°    â”‚     â”‚
â”‚ â”‚ Card            â”‚ â”‚ Card            â”‚ â”‚ Card            â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—                    â”‚ â”‚
â”‚ â”‚ (2Ã—2 Grid: AIå¼·/å¼± Ã— SEOå¼·/å¼±)                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ 5. Top Queries   â”‚ â”‚ 6. Top Pages    â”‚ â”‚ 7. ãƒˆãƒ¬ãƒ³ãƒ‰      â”‚     â”‚
â”‚ â”‚ & Pages         â”‚ â”‚ Performance     â”‚ â”‚ ãƒãƒ£ãƒ¼ãƒˆ        â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 8. æœ€é©åŒ–æ©Ÿä¼š & æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³                               â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ å„ã‚«ãƒ¼ãƒ‰ã®è©³ç´°ä»•æ§˜

### 1. AI Ã— SEO ç›¸é–¢ã‚¹ã‚³ã‚¢ Card
**API**: `GET /api/analytics/ai/combined`
**ãƒ—ãƒ©ãƒ³åˆ¶é™**: Businessä»¥ä¸Š

```typescript
interface CorrelationScoreCard {
  correlation_score: number;        // 0.73
  correlation_strength: string;     // "strong"
  sample_size: number;             // 42
  trend_direction: 'up' | 'down' | 'stable';
}
```

**UIè¡¨ç¤º**:
- å¤§ããªç›¸é–¢ã‚¹ã‚³ã‚¢è¡¨ç¤ºï¼ˆ0.73ï¼‰
- ç›¸é–¢å¼·åº¦ãƒ©ãƒ™ãƒ«ï¼ˆStrong Correlationï¼‰
- æ•£å¸ƒå›³ï¼ˆAI Score vs SEO Positionï¼‰
- ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚ºè¡¨ç¤º
- å‰æœŸæ¯”ãƒˆãƒ¬ãƒ³ãƒ‰çŸ¢å°

### 2. SEO ãƒ¡ãƒˆãƒªã‚¯ã‚¹æ¦‚è¦ Card
**API**: `GET /api/analytics/seo/gsc`
**ãƒ—ãƒ©ãƒ³åˆ¶é™**: Businessä»¥ä¸Š

```typescript
interface SEOSummaryCard {
  total_impressions: number;
  total_clicks: number;
  average_ctr: number;
  average_position: number;
  period_comparison: {
    impressions_change: number;
    clicks_change: number;
  };
}
```

**UIè¡¨ç¤º**:
- ã‚¤ãƒ³ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³æ•°ï¼ˆ45,670ï¼‰
- ã‚¯ãƒªãƒƒã‚¯æ•°ï¼ˆ1,234ï¼‰
- å¹³å‡CTRï¼ˆ2.7%ï¼‰
- å¹³å‡æ²è¼‰é †ä½ï¼ˆ12.5ä½ï¼‰
- å‰æœŸæ¯”å¤‰åŒ–ç‡ï¼ˆç·‘ãƒ»èµ¤ã®ã‚¢ã‚¤ã‚³ãƒ³ï¼‰

### 3. ãƒ‡ãƒ¼ã‚¿æ›´æ–°ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ Card
**æ©Ÿèƒ½**: GSCãƒ‡ãƒ¼ã‚¿æ‰‹å‹•åé›†

**UIè¡¨ç¤º**:
- æœ€çµ‚æ›´æ–°æ—¥æ™‚
- ã€ŒGSCãƒ‡ãƒ¼ã‚¿åé›†ã€ãƒœã‚¿ãƒ³
- é€²è¡ŒçŠ¶æ³ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
- æ¬¡å›è‡ªå‹•æ›´æ–°äºˆå®šæ™‚åˆ»

### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
**API**: `GET /api/analytics/ai/combined` (performance_matrix)

```typescript
interface PerformanceMatrix {
  ai_strong_seo_strong: ContentItem[];
  ai_strong_seo_weak: ContentItem[];
  ai_weak_seo_strong: ContentItem[];
  ai_weak_seo_weak: ContentItem[];
}
```

**UIè¡¨ç¤º**:
- 2Ã—2 ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—
- å„è±¡é™ã®URLæ•°ã¨ä»£è¡¨ä¾‹
- ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°URLä¸€è¦§ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
- è‰²åˆ†ã‘ï¼ˆç·‘=å¥½èª¿ã€èµ¤=è¦æ”¹å–„ï¼‰

### 5. Top Queries & Pages Card
**API**: `GET /api/analytics/seo/gsc` + `GET /api/analytics/ai/combined`

**UIè¡¨ç¤º**:
- Top 5 æ¤œç´¢ã‚¯ã‚¨ãƒªãƒªã‚¹ãƒˆ
- Top 5 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒšãƒ¼ã‚¸
- å„é …ç›®ã«AIã‚¹ã‚³ã‚¢ã‚‚ä½µè¨˜
- ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆï¼ˆQueries/Pagesï¼‰

### 6. Top Pages Performance Card
**API**: `GET /api/analytics/ai/combined` (performance_matrix)

**UIè¡¨ç¤º**:
- Combined Score é †ã®ãƒšãƒ¼ã‚¸ãƒ©ãƒ³ã‚­ãƒ³ã‚°
- AI Score / SEO Position / Combined Score
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚«ãƒ†ã‚´ãƒªã‚¢ã‚¤ã‚³ãƒ³
- è©³ç´°ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯

### 7. AIÃ—SEO ãƒˆãƒ¬ãƒ³ãƒ‰ãƒãƒ£ãƒ¼ãƒˆ Card
**API**: `GET /api/analytics/ai/combined` (trend_analysis)

```typescript
interface TrendChart {
  trend_data: {
    date: string;
    ai_avg_score: number;
    seo_avg_position: number;
    correlation_daily: number;
  }[];
}
```

**UIè¡¨ç¤º**:
- ãƒ‡ãƒ¥ã‚¢ãƒ«è»¸ãƒãƒ£ãƒ¼ãƒˆï¼ˆAI Score & SEO Positionï¼‰
- ç›¸é–¢ä¿‚æ•°ã®æ—¥åˆ¥æ¨ç§»ç·š
- æœŸé–“é¸æŠï¼ˆ7æ—¥/30æ—¥/90æ—¥ï¼‰

### 8. æœ€é©åŒ–æ©Ÿä¼š & æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ Card
**API**: `GET /api/analytics/ai/combined` (insights)

```typescript
interface OptimizationOpportunities {
  ai_boost_needed: string[];     // SEOè‰¯ã„ã€AIå¼±ã„
  seo_boost_needed: string[];    // AIè‰¯ã„ã€SEOå¼±ã„
  content_quality_check: string[]; // ä¸¡æ–¹å¼±ã„
}
```

**UIè¡¨ç¤º**:
- 3ã¤ã®æœ€é©åŒ–ã‚«ãƒ†ã‚´ãƒª
- å„ã‚«ãƒ†ã‚´ãƒªã®å¯¾è±¡URLæ•°
- å…·ä½“çš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ææ¡ˆ
- ã€Œè©³ç´°åˆ†æã€ã€Œæ”¹å–„ææ¡ˆã€ãƒœã‚¿ãƒ³

---

## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ é€£æº

### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
- **AIå¼·**: `var(--aio-success)` (ç·‘)
- **SEOå¼·**: `var(--aio-primary)` (é’)
- **ä¸¡æ–¹å¼·**: `var(--aio-success-light)` (è–„ç·‘)
- **è¦æ”¹å–„**: `var(--aio-warning)` (ã‚ªãƒ¬ãƒ³ã‚¸)
- **ä¸¡æ–¹å¼±**: `var(--aio-error)` (èµ¤)

### ã‚¢ã‚¤ã‚³ãƒ³
- ğŸ“Š ç›¸é–¢åˆ†æ
- ğŸ” SEO ãƒ‡ãƒ¼ã‚¿
- ğŸ¤– AI ãƒ‡ãƒ¼ã‚¿
- âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- ğŸ“ˆ ãƒˆãƒ¬ãƒ³ãƒ‰
- ğŸ¯ æœ€é©åŒ–æ©Ÿä¼š

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
**ãƒ¢ãƒã‚¤ãƒ« (< 768px)**:
- 1åˆ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- ã‚«ãƒ¼ãƒ‰ã®ã‚¹ã‚¿ãƒƒã‚¯è¡¨ç¤º
- ç°¡ç•¥åŒ–ã‚°ãƒ©ãƒ•
- ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ•´ç†

**ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ (768px - 1024px)**:
- 2åˆ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- ãƒ¡ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰ã¯æ¨ªå¹…100%
- ã‚µã‚¤ãƒ‰ã‚«ãƒ¼ãƒ‰ã¯50%ãšã¤

**ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ— (> 1024px)**:
- 3åˆ—ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- å…¨ã‚«ãƒ¼ãƒ‰åŒæ™‚è¡¨ç¤º

---

## ğŸš€ å®Ÿè£…ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¾‹

### React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```typescript
// /dashboard/analytics/ai-seo-report/page.tsx
export default function AISEOReportPage() {
  return (
    <DashboardLayout>
      <AISeoDashboard />
    </DashboardLayout>
  );
}

// components/dashboard/ai-seo/AISeoDashboard.tsx
export function AISeoDashboard() {
  const { data, isLoading } = useAISeoAnalytics(orgId);
  
  return (
    <div className="dashboard-grid">
      <CorrelationScoreCard data={data?.ai_seo_correlation} />
      <SEOSummaryCard orgId={orgId} />
      <DataUpdateCard orgId={orgId} />
      <PerformanceMatrixCard data={data?.performance_matrix} />
      <TopQueriesPagesCard orgId={orgId} />
      <TopPagesPerformanceCard data={data?.performance_matrix} />
      <TrendChartCard data={data?.trend_analysis} />
      <OptimizationOpportunitiesCard data={data?.insights} />
    </div>
  );
}
```

### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯

```typescript
// hooks/useAISeoAnalytics.ts
export function useAISeoAnalytics(orgId: string, options?: {
  trendDays?: number;
  refreshInterval?: number;
}) {
  return useSWR(
    `/api/analytics/ai/combined?org_id=${orgId}&trend_days=${options?.trendDays || 30}`,
    fetcher,
    {
      refreshInterval: options?.refreshInterval || 5 * 60 * 1000, // 5åˆ†
    }
  );
}

// hooks/useGSCData.ts
export function useGSCData(orgId: string) {
  return useSWR(
    `/api/analytics/seo/gsc?org_id=${orgId}`,
    fetcher
  );
}
```

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒšãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹
2. useAISeoAnalytics ãŒ API å‘¼ã³å‡ºã—
3. /api/analytics/ai/combined ãŒçµ±åˆåˆ†æå®Ÿè¡Œ
4. ai_visibility_scores + seo_search_console_metrics + ai_bot_logs çµåˆ
5. ç›¸é–¢åˆ†æãƒ»4è±¡é™åˆ†é¡ãƒ»ã‚¤ãƒ³ã‚µã‚¤ãƒˆç”Ÿæˆ
6. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ›´æ–°
```

---

## ğŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **UI**: React + TypeScript
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: CSS Modules + ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ å¤‰æ•°
- **ãƒ‡ãƒ¼ã‚¿å–å¾—**: SWR
- **ãƒãƒ£ãƒ¼ãƒˆ**: Chart.js / Recharts
- **ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—**: D3.js / ã‚«ã‚¹ã‚¿ãƒ å®Ÿè£…
- **çŠ¶æ…‹ç®¡ç†**: React Query / SWR

---

## ğŸ¯ Phase 4 æ‹¡å¼µäºˆå®š

### é«˜åº¦ãªåˆ†ææ©Ÿèƒ½
- **ç«¶åˆåˆ†æ**: åŒæ¥­ä»–ç¤¾ã¨ã®ç›¸é–¢æ¯”è¼ƒ
- **AIäºˆæ¸¬**: å°†æ¥ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯äºˆæ¸¬
- **è‡ªå‹•æœ€é©åŒ–**: æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿è‡ªå‹•ç”Ÿæˆææ¡ˆ

### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½
- **PDF ãƒ¬ãƒãƒ¼ãƒˆ**: é€±æ¬¡ãƒ»æœˆæ¬¡ã‚µãƒãƒªãƒ¼
- **CSV ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**: è©³ç´°ãƒ‡ãƒ¼ã‚¿åˆ†æç”¨
- **API ã‚¢ã‚¯ã‚»ã‚¹**: å¤–éƒ¨ãƒ„ãƒ¼ãƒ«é€£æº

ã“ã‚Œã§ Phase 3 ã®å®Œå…¨ãªå®Ÿè£…ã‚¬ã‚¤ãƒ‰ãŒå®Œæˆã—ã¾ã—ãŸã€‚