# 🧪 UAT (User Acceptance Testing) Pull Request

## 📋 概要

### 目的
<!-- UAT実行の目的（例：本番リリース前検証、新機能品質確認、運用品質向上等） -->

### 変更内容
<!-- このPRで追加・変更されたUAT関連の内容 -->
- [ ] 新機能のUATテストケース追加
- [ ] 既存UATテストの修正・改善
- [ ] UAT自動化スクリプトの更新
- [ ] ドキュメント・チェックリストの更新
- [ ] その他: 

### 影響範囲
<!-- UAT実行により確認される機能・システム範囲 -->
- [ ] 認証・ユーザー管理
- [ ] 企業・サービス・FAQ・導入事例管理
- [ ] 決済処理 (Stripe)
- [ ] メール通知 (Resend)
- [ ] データベース整合性
- [ ] セキュリティ・権限制御
- [ ] パフォーマンス・可用性
- [ ] SEO・構造化データ

---

## 🔧 UAT実行手順

### ✅ 事前チェック (必須)
```bash
# 1. 環境変数確認
npm run uat:env-check

# 2. DNS/SSL確認  
npm run uat:dns-check

# 3. API疎通確認
npm run uat:endpoint-check

# 4. 一括事前チェック
npm run uat:preflight
```

**事前チェック結果:**
- [ ] ✅ 環境変数: すべて設定済み
- [ ] ✅ DNS/SSL: 正常応答確認
- [ ] ✅ API疎通: 全エンドポイント正常
- [ ] ⚠️ 課題あり（詳細: ________________）

### 🚨 クリティカルテスト (40分・必須)
📄 **実行手順**: [docs/uat/checklists/critical.md](../docs/uat/checklists/critical.md)

**重要:** 以下4項目すべて合格がリリース条件です。

#### テスト1: 認証フロー確認 (10分)
- [ ] ✅ 新規登録・メール認証・ログイン正常
- [ ] ✅ パスワードリセット正常
- [ ] ✅ セッション管理・自動ログアウト正常
- [ ] ❌ 問題あり（詳細: ________________）

#### テスト2: 企業作成・公開フロー (15分)
- [ ] ✅ 企業作成・編集・削除正常
- [ ] ✅ 公開設定・非公開設定正常
- [ ] ✅ 権限制御（admin/editor/viewer）正常
- [ ] ❌ 問題あり（詳細: ________________）

#### テスト3: 決済処理テスト (10分)
- [ ] ✅ Stripeテストカード決済成功
- [ ] ✅ 決済失敗時の適切なエラー処理
- [ ] ✅ サブスクリプション状態反映正常
- [ ] ❌ 問題あり（詳細: ________________）

#### テスト4: セキュリティ確認 (5分)
- [ ] ✅ XSS防止・入力値サニタイズ正常
- [ ] ✅ CSRF防止・認証トークン正常
- [ ] ✅ SQL インジェクション防止正常
- [ ] ❌ 問題あり（詳細: ________________）

**クリティカルテスト総合結果:**
- [ ] 🟢 **4/4 合格** → リリース可能
- [ ] 🟡 **3/4 合格** → 軽微な課題あり、条件付きリリース検討
- [ ] 🔴 **2/4 以下** → 修正後再テスト必須

### 🟡 重要テスト (110分・1週間以内実施推奨)
📄 **実行手順**: [docs/uat/checklists/important.md](../docs/uat/checklists/important.md)

- [ ] 実施予定日: ________________
- [ ] 実施担当者: ________________
- [ ] 実施完了
- [ ] 後日実施（理由: ________________）

### 🟢 推奨テスト (115分・1ヶ月以内実施推奨)
📄 **実行手順**: [docs/uat/checklists/recommended.md](../docs/uat/checklists/recommended.md)

- [ ] 実施予定日: ________________
- [ ] 実施担当者: ________________
- [ ] 実施完了
- [ ] 後日実施（理由: ________________）

---

## 📊 テスト結果サマリー

### 自動検証結果
- **環境変数チェック**: <!-- CI結果を記載 -->
- **DNS/SSL検証**: <!-- CI結果を記載 -->
- **API疎通確認**: <!-- CI結果を記載 -->

### 手動テスト結果
```
事前チェック:    ✅ PASS / ❌ FAIL
クリティカル:    ✅ PASS (4/4) / ⚠️ PARTIAL (X/4) / ❌ FAIL (X/4)
重要テスト:      ✅ COMPLETED / 📋 SCHEDULED / ⏸️ DEFERRED
推奨テスト:      ✅ COMPLETED / 📋 SCHEDULED / ⏸️ DEFERRED
```

### 発見された課題
<!-- 問題が発見された場合は詳細を記載 -->
| 重要度 | 項目 | 詳細 | 対応方針 |
|--------|------|------|----------|
| 🔴 Critical | | | |
| 🟡 Important | | | |
| 🟢 Minor | | | |

---

## 🚀 リリース判定

### リリース基準
- [x] CIでの事前チェックがすべてPASS
- [ ] クリティカルテスト 4/4 項目合格
- [ ] 重大な問題（🔴 Critical）がゼロ
- [ ] 運用チームへの引き継ぎ完了（該当する場合）

### 判定結果
- [ ] ✅ **リリース承認** - すべての基準を満たしています
- [ ] ⚠️ **条件付き承認** - 軽微な課題はあるが、リリース影響なし
- [ ] ❌ **リリース保留** - 重要な課題の修正が必要
- [ ] 🔄 **再テスト必要** - 修正後のUAT再実行が必要

### 承認者
- [ ] プロダクトオーナー: @________________
- [ ] 技術責任者: @________________
- [ ] QA責任者: @________________

---

## 📝 補足情報

### テスト環境
- **対象URL**: https://aiohub.jp
- **テスト実行日時**: ________________
- **実行者**: ________________
- **ブラウザ/デバイス**: ________________

### 参考リンク
- 📖 [UAT実行ガイド](../docs/uat/runner.md)
- 📋 [全チェックリスト一覧](../docs/uat/README.md)
- 🔧 [自動検証スクリプト](../scripts/uat/)
- 📊 [結果レポートテンプレート](../docs/uat/templates/report.md)

### 注意事項
⚠️ **本番環境での実行のため、以下に注意してください:**
- Stripe決済は**テストモードのみ**使用
- Resendメールは**テスト宛先のみ**送信
- 本番データを変更する操作は**最小限**に留める
- 機微情報の出力・ログ保存は**厳禁**

---

**📋 チェックリスト記入者:** ________________  
**🕐 記入完了日時:** ________________